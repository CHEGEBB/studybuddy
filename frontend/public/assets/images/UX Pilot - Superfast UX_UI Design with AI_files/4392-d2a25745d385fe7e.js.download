"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4392],{82469:function(e,t,r){r.d(t,{I3:function(){return s},YN:function(){return i},ZC:function(){return o}});var n,a=r(21575),i={UXP_08:"uxp-08",UXP_17:"uxp-17",UXP_02:"uxp-02",UXP_32:"uxp-32",UXP_13:"uxp-13",UXP_52:"uxp-52",UXP_18:"uxp-18"},o={CONTROL:"control",UXP_08:{CONTROL:"control",VARIANT_1:"test_group_1",VARIANT_2:"test_group_2",VARIANT_3:"test_group_3",VARIANT_4:"test_group_4",VARIANT_5:"test_group_5",VARIANT_6:"test_group_6"},UXP_17:{CONTROL:"control",VARIANT_1:"top_brands_variant"},UXP_18:{CONTROL:"control",VARIANT_1:"new_design",VARIANT_2:"new_price",VARIANT_3:"new_price_design"},UXP_02:{CONTROL:"control",SHOW_TOOLTIP:"show_tooltip"},UXP_32:{CONTROL:"control",VARIANT_1:"variant_1",VARIANT_2:"variant_2",VARIANT_3:"variant_3"},UXP_13:{CONTROL:"control",SIMPLIFIED_SIGNUP:"simplified_signup"},UXP_52:{CONTROL:"control",PAIN_BASED:"pain_based",BENEFIT_BASED:"benefit_based"}},s=(n={},(0,a._)(n,i.UXP_08,o.UXP_08.CONTROL),(0,a._)(n,i.UXP_17,o.UXP_17.CONTROL),(0,a._)(n,i.UXP_18,o.UXP_18.VARIANT_2),(0,a._)(n,i.UXP_02,o.UXP_02.CONTROL),(0,a._)(n,i.UXP_32,o.UXP_32.CONTROL),(0,a._)(n,i.UXP_13,o.UXP_13.CONTROL),(0,a._)(n,i.UXP_52,o.UXP_52.CONTROL),n)},4392:function(e,t,r){r.d(t,{ZP:function(){return Contexts_AuthProvider},aC:function(){return useAuth}});var n,a=r(45610),i=r(41369),o=r(43654),s=r(9),u=r(50044),c=r(57437),l=r(2265),d=r(27007),h=r(30791),f=r(79398),p=r(60453),g=r(45511),getGA4ClientId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return new Promise(function(n,a){var attemptGetClientId=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window.gtag?window.gtag("get","G-9L2Y115NQ3","client_id",function(o){o?n(o):i<e?setTimeout(function(){return attemptGetClientId(i+1)},Math.min(t*Math.pow(2,i),r)):a(Error("Failed to get GA4 Client ID after multiple attempts"))}):i<e?setTimeout(function(){return attemptGetClientId(i+1)},Math.min(t*Math.pow(2,i),r)):a(Error("gtag not available after multiple attempts"))};attemptGetClientId()})},_=(n=(0,a._)(function(){var e,t,r,n=arguments;return(0,u.Jh)(this,function(a){switch(a.label){case 0:if(!(n.length>0&&void 0!==n[0]&&n[0])&&(e=localStorage.getItem("ga4ClientId")))return console.log("GA4 Client ID available from cache:",e),[2,e];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,getGA4ClientId()];case 2:if(t=a.sent())return localStorage.setItem("ga4ClientId",t),console.log("GA4 Client ID retrieved successfully:",t),[2,t];throw Error("No client ID returned from GA4");case 3:throw console.error("Failed to retrieve GA4 Client ID:",r=a.sent()),r;case 4:return[2]}})}),function(){return n.apply(this,arguments)});(0,a._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,_()];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})});var getCookie=function(e){var t=document.cookie.match(RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null},getGclAwValue=function(){var checkForCookie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=getCookie("_gcl_aw");if(r){var n=r.split(".").slice(2).join(".");return n&&localStorage.setItem("gclAw",n),!0}return e<t&&setTimeout(function(){return checkForCookie(e+1)},2e3),!1};checkForCookie()},getReferringUrl=function(){var e=window.location.href;return e.includes("?")?e:document.referrer||e},getFbclidValue=function(){var checkForCookie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=getCookie("_fbc");return r?(localStorage.setItem("fbc",r),!0):(e<t&&setTimeout(function(){return checkForCookie(e+1)},2e3),!1)};checkForCookie()},getFbpValue=function(){var checkForCookie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=getCookie("_fbp");return r?(localStorage.setItem("fbp",r),!0):(e<t&&setTimeout(function(){return checkForCookie(e+1)},2e3),!1)};checkForCookie()},useTrackingData=function(){var e=(0,s._)((0,l.useState)({referringUrl:null,gclAw:null,ga4ClientId:null,fbc:null,fbp:null}),2),t=e[0],r=e[1];return(0,l.useEffect)(function(){if(localStorage.getItem("referringUrl")||localStorage.setItem("referringUrl",getReferringUrl()),localStorage.getItem("gclAw")||getGclAwValue(),localStorage.getItem("fbc")||getFbclidValue(),localStorage.getItem("fbp")||getFbpValue(),!localStorage.getItem("ga4ClientId")){var e,t=(e=(0,a._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,_()];case 1:return e.sent(),[3,3];case 2:return console.error("Failed to retrieve GA4 Client ID in useTrackingData:",e.sent()),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)});setTimeout(function(){t()},3e3)}r({referringUrl:localStorage.getItem("referringUrl"),gclAw:localStorage.getItem("gclAw"),ga4ClientId:localStorage.getItem("ga4ClientId"),fbc:localStorage.getItem("fbc"),fbp:localStorage.getItem("fbp")})},[]),t},v=r(90335),m=r(24708),I=r(29467),E=r(82469),w=(0,l.createContext)(),useAuth=function(){return(0,l.useContext)(w)},Contexts_AuthProvider=function(e){var t,r,n,_,y,U,A,S,k,T,P,R,b,C,N,D,O=e.children,L=(0,f.z)(),V=(t=(0,f.z)().capture,{trackEvent:(0,l.useCallback)(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.Z.trackEvent(e,r),t(e,r)},[]),trackSignUp:(0,l.useCallback)(function(e,r,n){g.Z.trackSignUp(e,r,n),t("c_sign_up",{user_id:e,method:r,email:n})},[t]),trackSignIn:(0,l.useCallback)(function(e,r){g.Z.trackSignIn(e,r),t("c_sign_in",{user_id:e,method:r})},[t]),trackVerificationPageVisit:(0,l.useCallback)(function(){g.Z.trackVerificationPageVisit()},[]),trackAccountVerified:(0,l.useCallback)(function(e){g.Z.trackAccountVerified(e)},[]),trackPurchase:(0,l.useCallback)(function(e){var r=e.user_id,n=e.plan,a=e.email,i=e.currency,o=e.value,s=e.subscription_id;g.Z.trackPurchase({user_id:r,plan:n,email:a,currency:i,value:o,subscription_id:s}),t("c_purchase",{user_id:r,plan:n,email:a,currency:i,value:o})},[t])}),x=(0,s._)((0,l.useState)(null),2),X=x[0],G=x[1],F=(0,s._)((0,l.useState)(null),2),Y=F[0],J=F[1],W=(0,s._)((0,l.useState)(!0),2),q=W[0],j=W[1];useTrackingData();var M=(0,I.j)().experiments[E.YN.UXP_18],Z=null!==(D=null==M?void 0:M.variant)&&void 0!==D?D:E.ZC.UXP_18.CONTROL,Q=(0,l.useRef)(!0);(0,l.useEffect)(function(){return function(){Q.current=!1}},[]);var safeSetState=function(e,t){Q.current&&e(t)},B=(0,v.gw)({},{skip:!Y}),z=B.data,H=B.refetch,K=(0,s._)((0,v.Rs)(),1)[0],$=(0,s._)((0,v.UE)(),1)[0],ee=(0,s._)((0,v.yL)(),1)[0],et=(0,s._)((0,v.NZ)(),1)[0],er=(0,s._)((0,v.pr)(),1)[0],en=(r=(0,a._)(function(e){return(0,u.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("https://ipapi.co/".concat(e,"/json/"))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent().country_name];case 3:return console.warn("Error getting location data:",t.sent()),[2,null];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),getTrackingDataFromLocalStorage=function(){return{referringUrl:localStorage.getItem("referringUrl"),ga4ClientId:localStorage.getItem("ga4ClientId"),gclAwCookie:localStorage.getItem("gclAw"),fbc:localStorage.getItem("fbc"),fbp:localStorage.getItem("fbp")}},cleanObject=function(e){var t=(0,i._)({},e);return Object.keys(t).forEach(function(e){return void 0===t[e]||null===t[e]?delete t[e]:{}}),t},ea=(n=(0,a._)(function(e,t){var r,n,a,o,s,c,l,d,h,f,p;return(0,u.Jh)(this,function(u){switch(u.label){case 0:if(!(null==e?void 0:e.user))throw Error("No user object in authentication result");if(!e.user.emailVerified)throw{code:"auth/email-not-verified",message:"Email not verified",email:e.user.email,uuid:e.user.uid};if(r=e.user.uid,!(n=e.user.providerData.find(function(e){return"google.com"===e.providerId})))throw Error("Google provider data not found");a=n.uid,o=n.email,s=n.photoURL,c=n.displayName,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,K().unwrap()];case 2:if(l=u.sent())return Q.current&&(safeSetState(J,r),localStorage.setItem("UxpUserID",r),s&&localStorage.setItem("userPhotoURL",s)),[2,l];return[3,4];case 3:return console.warn("Error checking for existing user:",u.sent()),[3,4];case 4:return d=(0,m.R)(o),h=(null==c?void 0:c.split(" ")[0])||"",f=(null==c?void 0:c.split(" ").slice(1).join(" "))||"",p=getTrackingDataFromLocalStorage(),[4,ee(cleanObject((0,i._)({uid:r,googleUid:a,email:d,photoURL:s,displayName:c,authMethod:t,uxp18Variant:Z},p)))];case 5:return u.sent(),et(cleanObject((0,i._)({email:d,firstName:h,lastName:f,tag:"uxpilot"},p))).catch(function(e){return console.warn("Error adding to ActiveCampaign:",e)}),er().unwrap().then(function(e){en(e.ip).then(function(e){e&&$({uid:r,userCountry:e})})}).catch(function(e){return console.warn("Error getting IP data:",e)}),Q.current&&(safeSetState(J,r),localStorage.setItem("UxpUserID",r),s&&localStorage.setItem("userPhotoURL",s),V.trackSignUp(r,t,o)),[2,{uid:r,email:o,photoURL:s,displayName:c,onboardingCompleted:!1}]}})}),function(e,t){return n.apply(this,arguments)});(0,l.useEffect)(function(){var e,unsubscribe=function(){};try{unsubscribe=h.I8.onAuthStateChanged((e=(0,a._)(function(e){var t,r,n,a,i;return(0,u.Jh)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,7,,8]),!Q.current)return[2];if(!(null==e?void 0:e.emailVerified))return[3,5];safeSetState(G,e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,K().unwrap()];case 2:return(t=o.sent())&&Q.current&&(safeSetState(J,t.uid),localStorage.setItem("UxpUserID",t.uid)),[3,4];case 3:return r=o.sent(),console.error("Error getting user info:",r),[3,4];case 4:return safeSetState(j,!1),n=e.uid,a=e.providerData.some(function(e){return"google.com"===e.providerId}),L.identify(n,{distinct_id:n,email:e.email,name:e.displayName,profession:null==z?void 0:z.profession,provider:a?"google":"email",emailVerified:e.emailVerified}),[3,6];case 5:Q.current&&(L.reset(),safeSetState(G,null),safeSetState(J,null),safeSetState(j,!1)),o.label=6;case 6:return[3,8];case 7:return i=o.sent(),console.error("Error in auth state change handler:",i),Q.current&&safeSetState(j,!1),[3,8];case 8:return[2]}})}),function(t){return e.apply(this,arguments)}))}catch(e){console.error("Error setting up auth state listener:",e),Q.current&&safeSetState(j,!1)}return function(){Q.current=!1,unsubscribe()}},[]);var ei=(_=(0,a._)(function(){var e,t,r,n,a;return(0,u.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e=new d.hJ,[4,(0,d.rh)(h.I8,e)];case 1:return t=i.sent(),(0,p.hb)("googleSignIn"),[4,ea(t,"google")];case 2:return[2,i.sent()];case 3:if(console.error("Google sign in error:",r=i.sent()),"auth/account-exists-with-different-credential"===r.code||(null===(n=r.message)||void 0===n?void 0:n.includes("No user found")))return[2,{error:!0,code:"account-exists-with-email",email:(null===(a=r.customData)||void 0===a?void 0:a.email)||r.email,message:"An account already exists with this email. Please sign in with your password first, then link your Google account from Account Settings."}];throw r;case 4:return[2]}})}),function(){return _.apply(this,arguments)}),eo=(y=(0,a._)(function(e){var t,r,n,a;return(0,u.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=d.hJ.credential(e),[4,(0,d.sB)(h.I8,t)];case 1:return[4,ea(i.sent(),"google_one_tap")];case 2:return[2,i.sent()];case 3:if(console.error("Google One Tap sign in failed:",r=i.sent()),"auth/account-exists-with-different-credential"===r.code||(null===(n=r.message)||void 0===n?void 0:n.includes("No user found")))return[2,{error:!0,code:"account-exists-with-email",email:(null===(a=r.customData)||void 0===a?void 0:a.email)||r.email,message:"An account already exists with this email. Please sign in with your password first, then link your Google account from Account Settings."}];throw r;case 4:return[2]}})}),function(e){return y.apply(this,arguments)}),es=(U=(0,a._)(function(){var e,t,r;return(0,u.Jh)(this,function(n){switch(n.label){case 0:if(!(e=h.I8.currentUser))throw Error("No user found. Please sign in or sign up first.");t=window.location.origin,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.sendEmailVerification({url:"".concat(t,"/b"),handleCodeInApp:!0})];case 2:return n.sent(),[3,4];case 3:throw console.error("Error sending verification email:",r=n.sent()),r;case 4:return[2]}})}),function(){return U.apply(this,arguments)}),eu=(A=(0,a._)(function(e,t,r){var n,a,o,s,c,l,f,p,g;return(0,u.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,9,,10]),n=(0,m.R)(e),[4,(0,d.Xb)(h.I8,n,t)];case 1:return a=u.sent(),[4,(0,d.ck)(a.user,{displayName:r})];case 2:return u.sent(),G(null),[4,es()];case 3:if(u.sent(),!(a&&a.user))return[3,8];s=a.user.uid,c=getTrackingDataFromLocalStorage(),l=(null==r?void 0:r.split(" ")[0])||"",f=(null==r?void 0:null===(o=r.split(" "))||void 0===o?void 0:o.slice(1).join(" "))||"",p=cleanObject((0,i._)({uid:s,email:n,displayName:r,authMethod:"email",uxp18Variant:Z},c)),u.label=4;case 4:return u.trys.push([4,6,,7]),[4,ee(p)];case 5:return u.sent(),[3,7];case 6:return console.warn("Error adding user to DB:",u.sent()),[3,7];case 7:V.trackSignUp(s,"email_password",e),localStorage.setItem("UxpUserID",s),et(cleanObject((0,i._)({email:n,firstName:l,lastName:f,tag:"uxpilot"},c))).catch(function(e){return console.warn("Error adding to ActiveCampaign:",e)}),er().unwrap().then(function(e){en(e.ip).then(function(e){e&&$({uid:s,userCountry:e})})}).catch(function(e){console.warn("Error getting IP data:",e)}),L.identify(s,{distinct_id:s,email:n,name:r,provider:"email",emailVerified:!1}),u.label=8;case 8:return[2,{uid:a.user.uid}];case 9:switch(console.error("Error in signUp:",g=u.sent()),g.code){case"auth/email-already-in-use":return[2,{code:"auth/email-already-in-use",message:"This email is already registered. Please sign in to your existing account."}];case"auth/invalid-email":return[2,{code:"auth/invalid-email",message:"The email address is not valid."}];case"auth/operation-not-allowed":return[2,{code:"auth/operation-not-allowed",message:"Email/password accounts are not enabled. Please contact support."}];case"auth/weak-password":return[2,{code:"auth/weak-password",message:"The password is too weak. Please use at least 8 characters."}];default:return[2,{code:g.code||"auth/unknown",message:g.message||"An error occurred during signup. Please try again."}]}return[3,10];case 10:return[2]}})}),function(e,t,r){return A.apply(this,arguments)}),ec=(S=(0,a._)(function(e,t){var r,n,a,i,o,s,c,l,f;return(0,u.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,7,,8]),r=(0,m.R)(e),[4,(0,d.e5)(h.I8,r,t)];case 1:if(!(n=u.sent().user))throw Error("Sign-in failed: No user returned from Firebase.");return[4,n.getIdToken()];case 2:a=u.sent(),(0,p.hb)("googleSignIn"),i=n.uid,n.photoURL&&localStorage.setItem("userPhotoURL",n.photoURL),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,K().unwrap()];case 4:return o=u.sent(),[3,6];case 5:return console.warn("Error fetching user info:",u.sent()),[3,6];case 6:return s=null==o?void 0:o.onboardingCompleted,n&&L.identify(i,{distinct_id:i,email:r,name:n.displayName,provider:n.providerData.some(function(e){return"google.com"===e.providerId})?"google":"email",emailVerified:n.emailVerified}),(null==n?void 0:n.emailVerified)&&!1===s&&(safeSetState(G,n),safeSetState(J,n.uid),localStorage.setItem("UxpUserID",n.uid)),[2,{providerData:null!==(c=n.providerData)&&void 0!==c?c:[],uid:i,user:n,token:a,email:r,onboardingCompleted:s}];case 7:if("auth/invalid-email"===(l=u.sent()).code||"auth/wrong-password"===l.code||"auth/user-not-found"===l.code||"auth/invalid-credential"===l.code||(null===(f=l.message)||void 0===f?void 0:f.includes("INVALID_LOGIN_CREDENTIALS")))return[2,{code:"auth/invalid-credential",message:"Invalid username or password. Please try again."}];throw console.error("Sign-in failed:",l),l;case 8:return[2]}})}),function(e,t){return S.apply(this,arguments)}),el=(k=(0,a._)(function(){var e,t,r,n;return(0,u.Jh)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,7,,8]),!h.I8.currentUser)throw Error("You must be signed in to link accounts");return e=new d.hJ,[4,h.I8.currentUser.linkWithPopup(e)];case 1:if(!(t=a.sent().user.providerData.find(function(e){return"google.com"===e.providerId})))return[3,6];r=t.photoURL,a.label=2;case 2:if(a.trys.push([2,5,,6]),!r)return[3,4];return[4,(0,d.ck)(h.I8.currentUser,{photoURL:r})];case 3:a.sent(),X&&G((0,o._)((0,i._)({},X),{photoURL:r})),a.label=4;case 4:return[3,6];case 5:return console.warn("Error updating user data with linked Google account:",a.sent()),[3,6];case 6:return[2,!0];case 7:if(console.error("Error linking Google account:",n=a.sent()),"auth/credential-already-in-use"===n.code)throw Error("This Google account is already linked to another user.");if("auth/email-already-in-use"===n.code)throw Error("This Google account's email is already in use by another account.");throw n;case 8:return[2]}})}),function(){return k.apply(this,arguments)}),ed=(T=(0,a._)(function(e){var t,r;return(0,u.Jh)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,4,,5]),!h.I8.currentUser)throw Error("You must be signed in to set a password");if(h.I8.currentUser.providerData.some(function(e){return"password"===e.providerId}))throw Error("This account already has a password set");return t=h.ZP.auth.EmailAuthProvider.credential(h.I8.currentUser.email,e),[4,h.I8.currentUser.linkWithCredential(t)];case 1:return n.sent(),[4,h.I8.currentUser.reload()];case 2:return n.sent(),[4,h.I8.currentUser.sendEmailVerification({url:window.location.origin,handleCodeInApp:!0})];case 3:return n.sent(),[2,!0];case 4:throw console.error("Error setting password for OAuth user:",r=n.sent()),r;case 5:return[2]}})}),function(e){return T.apply(this,arguments)}),eh=(P=(0,a._)(function(e,t){var r,n;return(0,u.Jh)(this,function(a){switch(a.label){case 0:if(a.trys.push([0,3,,4]),!h.I8.currentUser)throw Error("You must be signed in to change password");return r=h.ZP.auth.EmailAuthProvider.credential(h.I8.currentUser.email,e),[4,h.I8.currentUser.reauthenticateWithCredential(r)];case 1:return a.sent(),[4,h.I8.currentUser.updatePassword(t)];case 2:return a.sent(),[2,!0];case 3:throw console.error("Error changing password:",n=a.sent()),n;case 4:return[2]}})}),function(e,t){return P.apply(this,arguments)}),ef=(R=(0,a._)(function(e){var t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,h.I8.verifyPasswordResetCode(e)];case 1:return[2,r.sent()];case 2:throw console.error("Error verifying reset code:",t=r.sent()),t;case 3:return[2]}})}),function(e){return R.apply(this,arguments)}),ep=(b=(0,a._)(function(e){var t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,h.I8.applyActionCode(e)];case 1:return[2,r.sent()];case 2:throw console.error("Error applying action code:",t=r.sent()),t;case 3:return[2]}})}),function(e){return b.apply(this,arguments)}),eg=(C=(0,a._)(function(e,t){var r;return(0,u.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,h.I8.confirmPasswordReset(e,t)];case 1:return[2,n.sent()];case 2:throw console.error("Error confirming password reset:",r=n.sent()),r;case 3:return[2]}})}),function(e,t){return C.apply(this,arguments)}),e_=(N=(0,a._)(function(e){var t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,h.I8.checkActionCode(e)];case 1:return[2,r.sent()];case 2:throw console.error("Error checking action code:",t=r.sent()),t;case 3:return[2]}})}),function(e){return N.apply(this,arguments)});return(0,c.jsx)(w.Provider,{value:{currentUser:X,signInWithGoogle:ei,authLoading:q,googleUID:Y,signUp:eu,signIn:ec,userInfo:z||null,refetch:H,signInWithGoogleOneTap:eo,linkWithGoogleAccount:el,setPasswordForOAuthUser:ed,changePassword:eh,verifyPasswordResetCode:ef,applyActionCode:ep,confirmPasswordReset:eg,checkActionCode:e_,sendVerificationEmail:es},children:O})}},29467:function(e,t,r){r.d(t,{V:function(){return ExperimentsProvider},j:function(){return useExperiments}});var n=r(21575),a=r(57437),i=r(2265),o=r(41369),s=r(9),u=r(53611);function useExperiment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.defaultVariant,n=t.sendExposureEvent,a=void 0===n||n,c=t.properties,l=void 0===c?{}:c,d=(0,u.U0)(),h=(0,s._)((0,i.useState)(!0),2),f=h[0],p=h[1],g=(0,u.ZR)(e),_=(0,s._)((0,i.useState)(g||(void 0===r?"control":r)),2),v=_[0],m=_[1],I=null!=g;return(0,i.useEffect)(function(){if(!d){p(!1);return}g&&m(g),I&&a&&d.capture("$experiment_viewed",(0,o._)({experiment:e,experiment_variant:v},l)),p(!1)},[d,e,v,I,a,l]),{variant:v,loading:f,enabled:I,isVariant:function(e){return v===e}}}var c=r(82469),l=(0,i.createContext)({experiments:{},isVariant:function(){return!1},isExperimentEnabled:function(){return!1}});function ExperimentsProvider(e){var t=e.children,r=useExperiment(c.YN.UXP_08,{defaultVariant:c.I3[c.YN.UXP_08],properties:{page:"homepage",element:"social_proof"}}),o=useExperiment(c.YN.UXP_17,{defaultVariant:c.I3[c.YN.UXP_17],properties:{page:"plans",element:"top_brands"}}),s={variant:c.I3[c.YN.UXP_18],isLoading:!1,enabled:!0,isVariant:function(e){return e===c.I3[c.YN.UXP_18]}},u=useExperiment(c.YN.UXP_32,{defaultVariant:c.I3[c.YN.UXP_32],properties:{page:"homepage",element:"microtriggers"}}),d=useExperiment(c.YN.UXP_13,{defaultVariant:c.I3[c.YN.UXP_13],properties:{page:"homepage",element:"simplified_signup"}}),h=useExperiment(c.YN.UXP_52,{defaultVariant:c.I3[c.YN.UXP_52],properties:{page:"homepage",element:"pain_based_vs_benefit_based"}}),f=(0,i.useMemo)(function(){var e;return e={},(0,n._)(e,c.YN.UXP_08,r),(0,n._)(e,c.YN.UXP_17,o),(0,n._)(e,c.YN.UXP_18,s),(0,n._)(e,c.YN.UXP_32,u),(0,n._)(e,c.YN.UXP_13,d),(0,n._)(e,c.YN.UXP_52,h),e},[r,o,u,d,h,s]),isVariant=function(e,t){var r=f[e];return(null==r?void 0:r.variant)===t},isExperimentEnabled=function(e){var t=f[e];return(null==t?void 0:t.enabled)===!0},p=(0,i.useMemo)(function(){return{experiments:f,isVariant:isVariant,isExperimentEnabled:isExperimentEnabled}},[f]);return(0,a.jsx)(l.Provider,{value:p,children:t})}function useExperiments(){var e=(0,i.useContext)(l);if(void 0===e)throw Error("useExperiments must be used within an ExperimentsProvider");return e}},45511:function(e,t,r){var n=r(86335),a=r(40494),i=r(41369),o=r(87944),s=new(function(){function AnalyticsService(){(0,n._)(this,AnalyticsService),this.maxRetries=5,this.retryInterval=100}return(0,a._)(AnalyticsService,[{key:"trackEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.trackGTMEvent(e,t),this.trackVWOEvent(e,t)}},{key:"trackGTMEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,pushDataLayer=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(window.dataLayer)try{window.dataLayer.push((0,i._)({event:e},t))}catch(t){console.error("Error tracking GTM event ".concat(e,":"),t)}else n<r.maxRetries&&setTimeout(function(){return pushDataLayer(n+1)},r.retryInterval)};pushDataLayer()}},{key:"trackVWOEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,pushVWOEvent=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(window.VWO&&window.VWO.event)try{window.VWO.event(e,t)}catch(t){console.error("Error tracking VWO event ".concat(e,":"),t)}else n<r.maxRetries&&setTimeout(function(){return pushVWOEvent(n+1)},r.retryInterval)};pushVWOEvent()}},{key:"trackPageView",value:function(e,t){this.trackEvent("page_view",{page_path:e,page_title:t})}},{key:"trackSignUp",value:function(e,t,r){this.trackEvent("c_sign_up",{user_id:e,method:t,email:r})}},{key:"trackSignIn",value:function(e,t){this.trackEvent("c_sign_in",{user_id:e,method:t})}},{key:"trackVerificationPageVisit",value:function(){this.trackEvent("c_verification_page_visit")}},{key:"trackAccountVerified",value:function(e){this.trackEvent("c_account_verified",{user_id:e})}},{key:"trackPurchase",value:function(e){var t=e.user_id,r=e.plan,n=e.email,a=e.currency,s=e.value,u=e.subscription_id,c=e.phone;this.trackEvent("c_purchase",(0,i._)({plan_name:r,plan:r,price:s,value:s,user_id:t,email:n,currency:null!=a?a:"USD",subscription_id:u},c?{phone_number:c}:{})),(0,o.g8)(n,s,null!=a?a:"USD")}},{key:"trackLinkedInConversion",value:function(e){var t=this,trackLinkedIn=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(window.lintrk)try{window.lintrk("track",{conversion_id:e})}catch(e){console.error("LinkedIn tracking failed:",e)}else r<t.maxRetries&&setTimeout(function(){return trackLinkedIn(r+1)},t.retryInterval)};trackLinkedIn()}},{key:"validateEventData",value:function(e,t){return!0}}]),AnalyticsService}());t.Z=s},87944:function(e,t,r){r.d(t,{G9:function(){return trackTwitterSignupConversion},g8:function(){return trackTwitterPurchaseConversion}});var trackTwitterConversion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tw-pqg9x-pqgbo",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;window.twq&&window.twq("event",e,{email_address:t,value:r,currency:n})},trackTwitterSignupConversion=function(){trackTwitterConversion("tw-pqg9x-pqgbo")},trackTwitterPurchaseConversion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;trackTwitterConversion("tw-pqg9x-pqg9y",e,t,r)}},79398:function(e,t,r){r.d(t,{z:function(){return useAnalytics}});var n=r(41369),a=r(53611),i=r(29467);function useAnalytics(){var e=(0,a.U0)(),t=(0,i.j)().experiments;return{capture:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(e&&"function"==typeof e.capture){var i=Object.keys(t).reduce(function(e,r){var n=t[r];return(null==n?void 0:n.enabled)&&n.variant&&(e["$feature/".concat(r)]=n.variant),e},{});e.capture(r,(0,n._)({},a,i))}}catch(e){console.error("Analytics Error (".concat(r,"):"),e)}},identify:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e&&"function"==typeof e.identify&&e.identify(t,r)}catch(e){console.error("Analytics Identify Error:",e)}},setUserProperties:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{e&&"function"==typeof(null===(t=e.people)||void 0===t?void 0:t.set)&&e.people.set(r)}catch(e){console.error("Analytics Set User Properties Error:",e)}},reset:function(){e&&"function"==typeof e.reset&&e.reset()}}}},90335:function(e,t,r){r.d(t,{iJ:function(){return f},NZ:function(){return m},yL:function(){return v},gw:function(){return p},Rs:function(){return g},pr:function(){return I},UE:function(){return _},LF:function(){return E}});var n,a=r(45610),i=r(50044),o=r(85687),s=r(65800),u=r(21575),c={GET_USER_DATA:"get-user-data",ADD_USER:"add-user-data",ADD_TO_AC:"add-to-ac",IPIFY:"https://api.ipify.org?format=json",UPDATE_USER_PROFILE:"update-user-profile",UPDATE_USER_DATA:"update-user-data"},l={EMAIL_ALREADY_IN_USE:"auth/email-already-in-use",INVALID_EMAIL:"auth/invalid-email",USER_NOT_FOUND:"auth/user-not-found",WRONG_PASSWORD:"auth/wrong-password",WEAK_PASSWORD:"auth/weak-password",REQUIRES_RECENT_LOGIN:"auth/requires-recent-login",TOO_MANY_REQUESTS:"auth/too-many-requests",EMAIL_NOT_VERIFIED:"auth/email-not-verified",EXPIRED_ACTION_CODE:"auth/expired-action-code",INVALID_ACTION_CODE:"auth/invalid-action-code",USER_DISABLED:"auth/user-disabled",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",INVALID_CREDENTIAL:"auth/invalid-credential",ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL:"auth/account-exists-with-different-credential"};n={},(0,u._)(n,l.EMAIL_ALREADY_IN_USE,"This email is already registered. Please use sign in to your existing account."),(0,u._)(n,l.INVALID_EMAIL,"Please enter a valid email address."),(0,u._)(n,l.USER_NOT_FOUND,"No account found with this email address."),(0,u._)(n,l.WRONG_PASSWORD,"Invalid email or password."),(0,u._)(n,l.WEAK_PASSWORD,"Password is too weak. Please choose a stronger password."),(0,u._)(n,l.REQUIRES_RECENT_LOGIN,"This action requires recent authentication. Please log in again before retrying."),(0,u._)(n,l.TOO_MANY_REQUESTS,"Too many login attempts. Please try again later."),(0,u._)(n,l.EMAIL_NOT_VERIFIED,"Please verify your email to continue."),(0,u._)(n,l.EXPIRED_ACTION_CODE,"This link has expired. Please request a new one."),(0,u._)(n,l.INVALID_ACTION_CODE,"This link is invalid or has already been used."),(0,u._)(n,l.USER_DISABLED,"This account has been disabled. Please contact support."),(0,u._)(n,l.CREDENTIAL_ALREADY_IN_USE,"This credential is already associated with another account."),(0,u._)(n,l.INVALID_CREDENTIAL,"Invalid email or password."),(0,u._)(n,l.ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL,"An account already exists with this email. Please sign in with your password first, then link your Google account from Account Settings.");var d=r(16958),h=r(38597),f=(0,o.LC)({reducerPath:d.V.AUTH,baseQuery:s.hK,tagTypes:[d.q.USER,d.q.USER_IP],endpoints:function(e){return{getUserInfo:e.query({query:function(){return{url:c.GET_USER_DATA,method:"POST",body:{}}},transformResponse:function(e){return(null==e?void 0:e.status)==="success"&&e.data},providesTags:function(e,t){return[{type:d.q.USER,id:"current"}]}}),updateUserData:e.mutation({query:function(e){return{url:c.UPDATE_USER_DATA,method:"POST",body:e}},invalidatesTags:function(e,t){return[{type:d.q.USER,id:"current"}]}}),addUserToDB:e.mutation({queryFn:function(e){return(0,a._)(function(){var t,r,n;return(0,i.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),[4,fetch("".concat(h.URLS.streamUrl,"/").concat(c.ADD_USER),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:if((t=a.sent()).ok)return[3,3];return r={},n={status:t.status},[4,t.text()];case 2:return[2,(r.error=(n.data=a.sent(),n),r)];case 3:return[4,t.json()];case 4:return[2,{data:a.sent()}];case 5:return[2,{error:{status:"FETCH_ERROR",error:a.sent().message}}];case 6:return[2]}})})()}}),addToActiveCampaign:e.mutation({queryFn:function(e){return(0,a._)(function(){var t,r,n;return(0,i.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),[4,fetch("".concat(h.URLS.streamUrl,"/").concat(c.ADD_TO_AC),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:if((t=a.sent()).ok)return[3,3];return r={},n={status:t.status},[4,t.text()];case 2:return[2,(r.error=(n.data=a.sent(),n),r)];case 3:return[4,t.json()];case 4:return[2,{data:a.sent()}];case 5:return[2,{error:{status:"FETCH_ERROR",error:a.sent().message}}];case 6:return[2]}})})()}}),getUserIp:e.query({queryFn:function(){return(0,a._)(function(){var e,t,r,n;return(0,i.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),[4,fetch(c.IPIFY)];case 1:if((e=a.sent()).ok)return[3,3];return t={},r={status:e.status},[4,e.text()];case 2:return[2,(t.error=(r.data=a.sent(),r.error=e.status,r),t)];case 3:return[4,e.json()];case 4:return[2,{data:a.sent()}];case 5:return[2,{error:{status:"FETCH_ERROR",data:void 0,error:(null==(n=a.sent())?void 0:n.message)||"Unknown fetch error"}}];case 6:return[2]}})})()},keepUnusedDataFor:600,providesTags:[d.q.USER_IP]}),updateUserProfile:e.mutation({query:function(e){return{url:c.UPDATE_USER_PROFILE,method:"POST",body:e}},invalidatesTags:function(e,t){return[{type:d.q.USER,id:"current"}]}})}}}),p=f.useGetUserInfoQuery,g=f.useLazyGetUserInfoQuery,_=f.useUpdateUserDataMutation,v=f.useAddUserToDBMutation,m=f.useAddToActiveCampaignMutation,I=(f.useGetUserIpQuery,f.useLazyGetUserIpQuery),E=f.useUpdateUserProfileMutation},24708:function(e,t,r){r.d(t,{R:function(){return normalizeEmail},w2:function(){return d},w7:function(){return l}});var n,a,i=r(45610),o=r(50044),s=r(30791),u=r(60453),c=r(27007),l=(n=(0,i._)(function(e){var t;return(0,o.Jh)(this,function(r){switch(r.label){case 0:return[4,null===s.ZP||void 0===s.ZP?void 0:s.ZP.auth().signOut()];case 1:return r.sent(),t=localStorage.getItem("cookieConsent"),localStorage.removeItem("tokenId"),localStorage.removeItem("userPhotoURL"),localStorage.setItem("cookieConsent",t),window.location.href="string"==typeof e?e:"/",[2]}})}),function(e){return n.apply(this,arguments)}),d=(a=(0,i._)(function(e,t){var r,n,a,i,l,d,h,f,p;return(0,o.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),r=normalizeEmail(e),[4,(0,c.e5)(s.I8,e,t)];case 1:return[4,(n=o.sent()).user.getIdToken()];case 2:return a=o.sent(),i=n.user.refreshToken,(0,u.hb)("googleSignIn"),l=n.user.uid,[4,n.user.getIdTokenResult()];case 3:return d=o.sent(),h=new Date(d.expirationTime).getTime(),n.user.photoURL&&localStorage.setItem("userPhotoURL",n.user.photoURL),[2,{providerData:null!==(f=n.user.providerData)&&void 0!==f?f:[],uid:l,user:n.user,token:a,refreshToken:i,expiresAt:h,email:r}];case 4:return console.error("Error in signInUser:",p=o.sent()),[2,p];case 5:return[2]}})}),function(e,t){return a.apply(this,arguments)}),normalizeEmail=function(e){if(!e||"string"!=typeof e)return e;var t=e.trim().toLowerCase();return t.endsWith("@googlemail.com")?t.replace("@googlemail.com","@gmail.com"):t}}}]);